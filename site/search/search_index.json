{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pforret/leqm-nrt","text":""},{"location":"#description","title":"Description","text":"<p><code>leqm-nrt</code> is a non-real-time implementation of Leq(M) measurement according to</p> <ul> <li>ISO 21727:2004(E): \"Cinematography \u2014 Method of measurement of perceived loudness of motion-picture audio material\" and</li> <li>ISO 21727:2016(E) \"Cinematography \u2014 Method of measurement of perceived loudness of short duration motion-picture audio material\"</li> </ul>"},{"location":"#leqm-nrt-c-version-of-leqm","title":"leqm-nrt - C version of leqm","text":""},{"location":"#goqm-golang-version-of-leqm-nrt","title":"goqm - golang version of leqm-nrt","text":"<ul> <li>Original code by Luca Trisciani - 2011-2013, 2017-2020</li> <li>Forked by Peter Forret - 2024-2025</li> <li>Converted to golang by Peter Forret &amp; Codex CLI</li> </ul>"},{"location":"blog/","title":"News","text":""},{"location":"builds/","title":"builds","text":"<p>pre-built binaries in <code>/build</code> folder</p> <pre><code>  90744 - leqm_macos\n3333056 - goqm_macos\n3235890 - goqm_macos_arm\n3378755 - goqm_linux\n3464704 - goqm_win.exe\n</code></pre>"},{"location":"goqm/","title":"goqm","text":"<p>golang version of Leq(m) algorithm. Output in JSON format.</p> <pre><code>{\n  \"metadata\": {\n    \"file\": \"examples/short.wav\",\n    \"original_sample_rate\": 48000,\n    \"effective_sample_rate\": 48000,\n    \"channels\": 2,\n    \"frames\": 240000,\n    \"duration_seconds\": 5.0\n  },\n  \"measurements\": {\n    \"leq_m\": 74.75,\n    \"leq_no_weight\": 80.77,\n    \"mean_power\": 0.0019,\n    \"mean_power_weighted\": 0.0005\n  },\n  \"channel_stats\": [\n    {\n      \"channel\": 0,\n      \"peak_db\": 92.5495,\n      \"average_db\": 77.0074\n    },\n    {\n      \"channel\": 1,\n      \"peak_db\": 92.5369,\n      \"average_db\": 78.4061\n    }\n  ],\n  \"execution\": {\n    \"binary_path\": \"(...)/leqm-nrt/build/goqm_macos\",\n    \"binary_version\": \"development\",\n    \"execution_seconds\": 0.2582,\n    \"speed_index\": 19.3644,\n    \"mbps\": 3.7183\n  }\n}\n</code></pre>"},{"location":"leqm/","title":"leqm-nrt","text":"<p>Original C code by Luca Trisciani</p>"},{"location":"leqm/#usage","title":"Usage","text":"<pre><code>leqm-nrt  Copyright (C) 2011-2013, 2017-2020 Luca Trisciani\nThis program comes with ABSOLUTELY NO WARRANTY,\nfor details on command line parameters see --help\nFirst argument is the audio file to be measured.\nOther parameters can follow in free order.\nThis is free software, and you are welcome to redistribute it\nunder the GPL v3 licence.\nProgram will use 1 + 13 slave threads.\nOrder of parameters after audio file is free.\nPossible parameters are:\n--convpoints &lt;integer number&gt;   Use convolution with n points interpolation instead of polynomial filter.\nDefault is polynomial filter.\n--numcpus &lt;integer number&gt;      Number of slave threads to speed up operation.\n--timing                        For benchmarking speed.\n--chconfcal &lt;dB correction&gt; &lt;dB correction&gt; &lt;etc. so many times as channels&gt;\n--leqnw                         output leq with no weighting\n--logleqm10                     (will also print Allen metric as output)\n--lkfs                          Switch LKFS ITU 1770-4 on.\n--dolbydi                       Switch Dolby Dialogue Intelligence on\n--chgateconf &lt;0|1|2&gt;, 0 = no gate, 1 = level gate (in dB) and 2 = dialogue gate\n--agsthreshold &lt;speech %&gt;       For Leq(M,DI) and LKFS(DI) default 33%.\n--levelgate &lt;Leq(M)&gt;            This will force level gating and deactivate speech gating\n--threshold &lt;Leq(M)&gt;            Threshold used for Allen metric (default 80)\n--longperiod &lt;minutes&gt;          Long period for leqm10 (default 10)\n--logleqm                       Log Leq(M) from start every buffersize ms.\n--buffersize &lt;milliseconds&gt;                     Size of Buffer in milliseconds.\n--truepeak                      Show true peak value\n--oversampling &lt;n&gt;              Default: 4 times\n--printdiinfo                   Show detailed speech intelligence information\n\nUsing:\ngnuplot -e \"plot \\\"logfile.txt\\\" u 1:2; pause -1\"\nit is possible to directly plot the logged data\n</code></pre>"},{"location":"leqm/#output","title":"Output","text":"<p>Output in text format</p> <pre><code>leqm-nrt  Copyright (C) 2011-2013, 2017-2020 Luca Trisciani\nThis program comes with ABSOLUTELY NO WARRANTY,\nfor details on command line parameters see --help\nFirst argument is the audio file to be measured.\nOther parameters can follow in free order.\nThis is free software, and you are welcome to redistribute it\nunder the GPL v3 licence.\nProgram will use 1 + 13 slave threads.\nOpened file: examples/short.wav\nSample rate: 48000\nChannels: 2\nFormat: 65538\nFrames: 240000\nUsing input channel calibration for 2.0 configuration:\n0 0\nLeq(M): 74.7538\n</code></pre> <ul> <li> Leq M Computation Pipeline </li> <li> Allen Metric Calculations </li> <li> Itu R Bs 1770 5 </li> <li> Itu R Bs 2051 3 </li> <li> Iso 21727 2004 </li> <li> Iso 22234 2005 </li> <li> Iso 2969 2015 </li> <li> Iso 21727 2016 </li> </ul>"},{"location":"leqm/algorithm/","title":"Leq(M) Computation Pipeline","text":"<p>This document summarises the mathematical steps the original C implementation (<code>src/leqm-nrt.c</code>) performs to derive the Leq(M) value defined in ISO 21727.  It tracks the code path taken by the default non\u2013real\u2011time run (<code>worker_function</code>) and indicates where optional features (gating, Dolby DI, etc.) hook into the pipeline.</p>"},{"location":"leqm/algorithm/#1-signal-preparation","title":"1. Signal preparation","text":"<ol> <li>Decode to linear PCM.  Depending on the build configuration the program uses either libsndfile or FFmpeg to decode the input stream to interleaved floating\u2011point samples (<code>sf_read_double</code> / <code>avcodec_receive_frame</code>).</li> <li>Channel calibration (<code>inputcalib</code>, <code>chconf</code>).  Per-channel gain coefficients (normally unity) can be supplied to emulate cinema B-chain alignment.  They scale the sample amplitudes before further processing (see <code>worker_function</code>, around lines 4500\u20134540).</li> <li>Block segmentation.  Audio is broken into blocks of <code>buffersizems</code> milliseconds (default 850 ms, cf. lines 638 and 1263).  Each worker thread receives <code>nsamples = samplerate * buffersizems / 1000 * nch</code> interleaved samples.</li> <li>Optional resampling.  When libsndfile is used at non-48 kHz sample rates the code can invoke the convolutional filter bank to approximate the official transfer function.  Recent builds favour the IIR implementation in <code>M_filter</code> for the commonly used 48 kHz rate.</li> </ol>"},{"location":"leqm/algorithm/#2-m-weighting-filter-m_filter","title":"2. M-weighting filter (<code>M_filter</code>)","text":"<p>The ISO 21727 M-weighting curve is implemented as a cascade of recursive biquads.  The C code stores pre-computed denominator (<code>a</code>) and numerator (<code>b</code>) coefficients for 44.1 kHz and 48 kHz sampling rates (see table starting at line ~7330).  For a sample sequence \\(x[n]\\) the filter output \\(y[n]\\) is computed by</p> \\[  y[n] = \\sum_{k=0}^{5} b_k x[n-k] - \\sum_{k=1}^{5} a_k y[n-k] \\] <p>The difference equation is realised inside <code>M_filter</code>, with explicit case handling for the first few samples until enough history is populated (lines 7350\u20137460).  This gives a weighted pressure signal \\(p_M[n]\\) that mimics the standard\u2019s equal-loudness curve.</p> <p>When <code>--convpoints</code> is enabled the program instead convolves each block with the published 21-tap impulse response (functions <code>convolv_buff</code> and <code>loadIR</code>), but both branches ultimately produce the weighted signal <code>convolvedbuffer</code> used in the subsequent energy computation.</p>"},{"location":"leqm/algorithm/#3-squaring-and-energy-accumulation","title":"3. Squaring and energy accumulation","text":"<p>Within each worker block, the code performs three accumulations (lines 4518\u20134550):</p> <ol> <li>Weighted energy.  The weighted samples are squared (<code>rectify</code>) and accumulated per channel (<code>accumulatech</code>) into <code>chsumaccumulator_conv</code>.</li> <li>Unweighted energy.  The unfiltered samples are squared and accumulated into <code>chsumaccumulator_norm</code> (used for the \"Leq(noW)\" diagnostic value).</li> <li>Total sums.  After the block is processed, <code>sumsamples</code> adds the channel sums into a shared <code>Sum</code> struct (<code>totsum</code>).  The struct stores:</li> <li><code>sum</code> \u2013 cumulative unweighted energy \\(\\sum x^2\\)</li> <li><code>csum</code> \u2013 cumulative weighted energy \\(\\sum p_M^2\\)</li> <li><code>nsamples</code> \u2013 total number of mono samples accumulated (frames \u00d7 channels)</li> </ol> <p>These arrays are protected by a mutex when multiple threads run in parallel.</p>"},{"location":"leqm/algorithm/#4-converting-to-leqm","title":"4. Converting to Leq(M)","text":"<p>Once all samples are processed, <code>meanoverduration</code> (lines 5856\u20135871) performs the ISO integration:</p> \\[  L_{\\mathrm{eq(M)}} = 20 \\log_{10} \\left(\\sqrt{\\frac{\\texttt{csum}}{\\texttt{nsamples}}}\\right) + 108.0103 \\] <p>The same routine also produces the unweighted RMS level from <code>sum</code>.  The constant <code>108.010299957</code> is derived from the reference sound pressure (20 \u00b5Pa) and the nominal calibration tone level (\u201320 dBFS), as documented in the inline comments around lines 5838\u20135869.</p> <p>Because the accumulation is linear over sample squares, the discrete formulation faithfully approximates the continuous integral used by the standard:</p> \\[  L_{eq(M)} = 10 \\log_{10}\\left( \\frac{1}{T} \\int_0^T \\frac{p_M(t)^2}{p_0^2}\\, dt \\right) \\] <p>where \\(T\\) is the total observation time and \\(p_0 = 20\\,\\mu\\text{Pa}\\).  In the implementation \\(p_M(t)\\) is represented by the filtered discrete sequence and the integral is replaced by the sample mean of squared values.</p>"},{"location":"leqm/algorithm/#5-optional-gating-lkfsdialogue-intelligence","title":"5. Optional gating (LKFS/Dialogue Intelligence)","text":"<p>The alternative worker <code>worker_function_gated2</code> adds loudness gating similar to ITU-R BS.1770:</p> <ol> <li>Short-term windows. <code>calcSampleStepLG</code> derives the hop size <code>ops</code> from the configured overlap (default 75 %), yielding a 400 ms gating block as required by the standard (lines 1853\u20131895).</li> <li>Pre-filtering for gating.  Each gate block is filtered with the K-weighting stages <code>K_filter_stage1/2</code> and rectified (lines 4573\u20134632).</li> <li>Relative and absolute gates.  Level and dialogue gates are applied depending on <code>chgateconf</code>, <code>levelgate</code>, and <code>dolbydi</code> settings.  If a block energy falls below threshold it is discarded before the final mean is computed (see <code>lkfs_finalcomputation</code> and <code>dolbydifinalcomputation2</code>).</li> </ol> <p>These gated sums feed either an LKFS measurement or a dialogue-specific variant, but the core Leq(M) channel is unaffected unless a level gate is explicitly enabled.</p>"},{"location":"leqm/algorithm/#6-output-metrics","title":"6. Output metrics","text":"<p>The program finally reports:</p> <ul> <li><code>Leq(M)</code> \u2013 weighted level as described above.</li> <li><code>Leq(noW)</code> \u2013 unweighted level derived from <code>sum</code>.</li> <li><code>True Peak</code> (optional) \u2013 computed by the oversampling routine <code>truepeakcheck</code> which upsamples each channel (default \u00d74) and tracks the maximum squared sample.</li> <li>Logging arrays for <code>Leq(M,10m)</code> and time-varying loudness when the respective switches are set (see <code>logleqm</code> and <code>logleqm10</code>).</li> </ul>"},{"location":"leqm/algorithm/#summary","title":"Summary","text":"<p>The essential Leq(M) calculation in <code>leqm-nrt</code> can therefore be summarised as:</p> <ol> <li>Decode audio, calibrate per channel, and break into manageable blocks.</li> <li>Apply the M-weighting filter to each block (IIR or FIR implementation).</li> <li>Square and accumulate both weighted and unweighted energies over all samples.</li> <li>Divide by the total sample count and convert to dB SPL using the ISO reference offset.</li> <li>Optionally perform gating before the final mean is formed if LKFS/DI modes are active.</li> </ol> <p>Every step maps directly to well-documented functions in <code>src/leqm-nrt.c</code>, so the mathematical intent is visible and aligns with ISO 21727\u2019s formal definition of Leq(M).</p>"},{"location":"leqm/allenmetric/","title":"Allen Metric Calculations","text":"<pre><code>leqm-nrt soundtrack.wav --buffersize 750 --logleqm10\n</code></pre> <p>With the command above:</p> <p>1) The program calculates Leq(M) for each 750 ms of the soundtrack and store the values in an array</p> <p>2) A sliding average (sum of Leq(m) values divided by number of 750ms segment in 10 minutes, that is 800) is calculated for time span of 10 minutes and values are stored in an array and logged into a text file</p> <p>3) Values from point 2 are summed together if averaged value is more than threshold (default 80), otherwise discarded.</p> <p>4) The sum is divided by the duration of the soundtrack in minutes</p> <p>Output of 4 would be the Allen Metric as I understand it from the article.</p>"},{"location":"leqm/bs_1770/","title":"ITU-R BS.1770-5","text":"<ul> <li>Title: Algorithms to measure audio programme loudness and true-peak audio level</li> <li>URL: itu.int/rec/R-REC-BS.2051-3-202205-I/en</li> </ul>"},{"location":"leqm/bs_1770/#scope","title":"Scope","text":"<p>This Recommendation specifies audio measurement algorithms for the purpose of determining subjective programme loudness, and true-peak signal level.</p>"},{"location":"leqm/bs_1770/#keywords","title":"Keywords","text":"<p>3/2 multichannel sound system, advanced sound system, loudness, true-peak signal level The ITU Radiocommunication Assembly, considering</p> <ul> <li>a) that modern digital sound transmission techniques offer an extremely wide dynamic range;</li> <li>b) that modern digital sound production and transmission techniques provide a mixture of mono, stereo and 3/2 multichannel formats specified in Recommendation ITU-R BS.775 and advanced sound formats including channel-, object- and scene-based input signals and their combination with metadata specified in Recommendation ITU-R BS.2051, and that sound programmes are produced in all of these formats;</li> <li>c) that listeners desire the subjective loudness of audio programmes to be uniform for different sources and programme types;</li> <li>d) that many methods are available for the measurement of audio levels but that existing measurement methods employed in programme production do not provide the indication of subjective loudness;</li> <li>e) that, for the purpose of loudness control in programme exchange, in order to reduce audience annoyance, it is essential to have a single recommended algorithm for the objective estimation of subjective loudness;</li> <li>f) that future complex algorithms based on psychoacoustic models may provide improved objective measures of loudness for a wide variety of audio programmes;</li> <li>g) that digital media overloads abruptly, and thus even momentary overload should be avoided, considering further<ul> <li>a) that peak signal levels may increase due to commonly applied processes such as filtering or bit-rate reduction;</li> <li>b) that existing metering technologies do not reflect the true-peak level contained in a digital signal since the true-peak value may occur between samples;</li> <li>c) that the state of digital signal processing makes it practical to implement an algorithm that closely estimates the true-peak level of a signal;</li> <li>d) that the use of a true-peak level indicating algorithm will allow accurate indication of the headroom between the peak level of a digital audio signal and the clipping level,</li> </ul> </li> </ul>"},{"location":"leqm/bs_1770/#recommends","title":"recommends","text":"<ul> <li>1 that when an objective measure of the loudness of an audio channel or programme, produced with up to five main channels per Recommendation ITU-R BS.775 (mono source, stereo and 3/2 multichannel sound), is required to facilitate programme delivery and exchange, the algorithm specified in Annex 1 should be used;</li> <li>2 that when an objective measure of the loudness of an audio programme produced with a larger number of channels (such as the channel configurations specified in Recommendation ITU-R BS.2051) is required, the algorithm specified in Annex 3 should be used;</li> <li>3 that when an objective measure of the loudness of object-based audio signals or combination of channel- and object-based audio signals is required, the algorithm specified in Annex 4 should be used;</li> <li>4 that methods employed in programme production and post-production to indicate programme loudness may be based on the algorithm specified in Annexes 1, 3 and 4;</li> <li>5 that when an indication of true-peak level of a digital audio signal is required, the measurement method should be based on the guidelines shown in Annex 2, or on a method that gives similar or superior results,</li> </ul>"},{"location":"leqm/bs_1770/#further-recommends","title":"further recommends","text":"<ul> <li>1 that consideration should be given to the possible need to update this Recommendation in the event that new loudness algorithms are shown to provide performance that is significantly improved over the algorithm specified in Annexes 1, 3 and 4;</li> <li>2 that this Recommendation should be updated when new algorithms have been developed to enable the measurement of audio programme loudness for scene-based audio programmes.</li> <li>NOTE 1 \u2013 Users should be aware that measured loudness is an estimation of subjective loudness and involves some degree of uncertainty depending on listeners, audio material and listening conditions.</li> <li>NOTE 2 \u2013 For testing compliance of meters according to this Recommendation, test material from the set described in Report ITU-R BS.2217 may be used.</li> </ul> <p>Full PDF document</p>"},{"location":"leqm/bs_2051/","title":"ITU-R BS.2051-3","text":"<ul> <li>Title:  Advanced sound system for programme production</li> <li>URL: itu.int/rec/R-REC-BS.1770-5-202311-I/en</li> </ul>"},{"location":"leqm/bs_2051/#scope","title":"Scope","text":"<p>This Recommendation specifies an advanced sound system with and without accompanying picture. An advanced sound system is a system with a reproduction configuration beyond those specified in Recommendation ITU-R BS.775 or a system with any reproduction configuration that can support channel-based, object-based or scene-based input signals or their combination with metadata. An advanced sound system uses audio data in combination with an appropriate set of metadata to specify a sound scene to be delivered/broadcasted. The specifications include requirements for signalling the properties of advanced sound content and loudspeaker layout to be used in content production for advanced sound systems. The advanced sound system can apply to the sound component of television and expanded large screen digital imagery (LSDI) programmes, as well as for sound only programmes.</p>"},{"location":"leqm/bs_2051/#keywords","title":"Keywords","text":"<p>Advanced sound system, channel-based sound system, object-based sound system, scene-based sound system, multichannel audio, loudspeaker layouts, headphones, immersive audio The ITU Radiocommunication Assembly, considering</p> <ul> <li>a) that Recommendation ITU-R BS.775 \u2013 Multichannel stereophonic sound system with and without accompanying picture, specifies a multichannel stereophonic sound system with three front channels and two rear/side channels together with an optional low frequency effect (LFE) channel, as the highest level in a hierarchy of multichannel sound systems that range from 1/0 (monophonic) up to 3/2;</li> <li>b) that Recommendation ITU-R BT.709 \u2013 Parameter values for the HDTV standards for production and international programme exchange, specifies HDTV system image parameters;</li> <li>c) that Recommendation ITU-R BT.2020 \u2013 Parameter values for ultra-high definition television systems for production and international programme exchange, specifies UHDTV image system parameters;</li> <li>d) that the wide field of view image presentation of HDTV and ultra-high definition television (UHDTV) programmes benefit from spatially enhanced sound beyond the 5.1 channel sound;</li> <li>e) that Recommendation ITU-R BS.1909 \u2013 Performance requirements for an advanced multichannel stereophonic sound system for use with or without accompanying picture, specifies the requirements for an advanced sound system with or without accompanying picture;</li> <li>f) that Report ITU-R BS.2159 \u2013 Multichannel sound technology in home and broadcasting applications, includes the results of subjective evaluation experiments on loudspeaker layout to meet the requirements described in Recommendation ITU-R BS.1909,</li> </ul>"},{"location":"leqm/bs_2051/#recommends","title":"recommends","text":"<p>1 that static or dynamic metadata/descriptors meeting the requirements described in Annex 1 should be used to signal the properties of all audio signals used in an advanced sound system in order to fully represent the desired audio content; 2 that a system with a reproduction configuration beyond those specified in Recommendation ITU-R BS.775 or a system with any reproduction configurations described in Annex 1 that can support channel-based, object-based or scene-based input signals or their combination with audiorelated metadata should be considered for production of advanced sound programmes; 3 that the appropriate number of audio elements1 and reproduction configurations in programme production should be a choice by agreement between the producer and the recipient in the programme exchange; 4 that consumer interactions with the received audio should be facilitated in the production and broadcast sound system and that its characteristics should be a choice by agreement between the producer and the recipient in the programme exchange,</p>"},{"location":"leqm/bs_2051/#further-recommends","title":"further recommends","text":"<p>1 that further work should be conducted to provide information about the features of any advanced sound system according to this Recommendation to fulfil the quality requirements of Recommendation ITU-R BS.1909; 2 that only new sound systems to be used in broadcasting content production should be added in Annex 1. New sound systems should be a clear expansion from the other sound systems already specified in Annex 1 and their common parts should be as compatible as possible. Such sound systems should be specified by the loudspeaker layout (positions and their ranges), the channel labels and their ordering.</p>"},{"location":"leqm/iso_2004/","title":"ISO 21727:2004","text":""},{"location":"leqm/iso_2004/#title","title":"Title","text":"<p>Cinematography \u2014 Method of measurement of perceived loudness of motion-picture audio material</p>"},{"location":"leqm/iso_2004/#abstract","title":"Abstract","text":"<p>ISO 21727:2004 specifies a method of measurement of motion-picture sound that allows assessment of the subjective loudness and annoyance of the sound recording when replayed at the recommended replay level in rooms aligned with the characteristics of ISO 2969. The specified method of measurement assesses the entire duration of the sound recording with suitable channel summation, frequency weighting and time integration.</p>"},{"location":"leqm/iso_2004/#status","title":"Status","text":"<p>Withdrawn, superceded ny </p> <p>URL: iso.org/standard/34671.html</p>"},{"location":"leqm/iso_2005/","title":"ISO 22234:2005","text":""},{"location":"leqm/iso_2005/#title","title":"Title","text":"<p>Cinematography \u2014 Relative and absolute sound pressure levels for motion-picture multi-channel sound systems \u2014 Measurement methods and levels applicable to analog photographic film audio, digital photographic film audio and D-cinema audio</p>"},{"location":"leqm/iso_2005/#abstract","title":"Abstract","text":"<p>ISO 22234:2005 specifies the measurement methods and wide-band sound pressure levels for motion-picture control rooms, review rooms, and indoor theatres. Together with ISO 2969, it is intended to assist in standardization of reproduction of motion-picture sound in such rooms.</p>"},{"location":"leqm/iso_2005/#url","title":"URL","text":"<p>iso.org/standard/40957.html</p>"},{"location":"leqm/iso_2015/","title":"ISO 2969:2015","text":""},{"location":"leqm/iso_2015/#title","title":"Title","text":"<p>Cinematography \u2014 B-chain electro-acoustic reponse of motion-picture control rooms and indoor theatres \u2014 Specifications and measurements</p>"},{"location":"leqm/iso_2015/#abstract","title":"Abstract","text":"<p>ISO 2969:2015 specifies the measurement methods and characteristic electroacoustic frequency response of the B-chain of motion-picture dubbing theatres (mixing rooms), screening rooms, and indoor theatres whose room volume exceeds 125 m3 (4,414 ft3). It is intended to assist in standardization of monitoring and reproduction of motion-picture sound in such rooms. The goal is to have constant perceived loudness and frequency response from installation to installation, and from position-to-position within an installation. This International Standard does not cover that part of the motion-picture sound system extending from the transducer to the input source audio selector.</p>"},{"location":"leqm/iso_2015/#url","title":"URL","text":"<p>iso.org/standard/43646.html</p>"},{"location":"leqm/iso_2015/#sample","title":"Sample","text":""},{"location":"leqm/iso_2015/#foreword","title":"Foreword","text":"<p>ISO (the International Organization for Standardization) is a worldwide federation of national standards bodies (ISO member bodies). The work of preparing International Standards is normally carried out through ISO technical committees. Each member body interested in a subject for which a technical committee has been established has the right to be represented on that committee. International organizations, governmental and non-governmental, in liaison with ISO, also take part in the work. ISO collaborates closely with the International Electrotechnical Commission (IEC) on all matters of electrotechnical standardization. The procedures used to develop this document and those intended for its further maintenance are described in the ISO/IEC Directives, Part 1. In particular the different approval criteria needed for the different types of ISO documents should be noted. This document was drafted in accordance with the editorial rules of the ISO/IEC Directives, Part 2 (see www.iso.org/directives). Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. ISO shall not be held responsible for identifying any or all such patent rights. Details of any patent rights identified during the development of the document will be in the Introduction and/or on the ISO list of patent declarations received (see www.iso.org/patents). Any trade name used in this document is information given for the convenience of users and does not constitute an endorsement. For an explanation on the meaning of ISO specific terms and expressions related to conformity assessment, as well as information about ISO's adherence to the WTO principles in the Technical Barriers to Trade (TBT), see the following URL: Foreword \u2014 Supplementary information. The committee responsible for this document is ISO/TC 36, Cinematography. This third edition cancels and replaces the second edition (ISO 2969:1987), which has been technically revised.</p>"},{"location":"leqm/iso_2015/#introduction","title":"Introduction","text":"<p>This International Standard is to be used in conjunction with the relevant standards which cover that part of the motion picture sound system from the transducer to the input terminals of the main fader. In this International Standard, normative text is text that describes elements of the design that are indispensable or contains the conformance language keywords: \u201cshall\u201d, \u201cshould\u201d, or \u201cmay\u201d. Informative text is text that is potentially helpful to the user, but not indispensable, and can be removed, changed, or added editorially without affecting interoperability. Informative text does not contain any conformance keywords. All text in this document is, by default, normative, except: the Introduction, any section explicitly labelled as \u201cInformative\u201d or individual paragraphs that start with \u201cNote\u201d. The keywords \u201cshall\u201d and \u201cshall not\u201d indicate requirements strictly to be followed in order to conform to the document and from which no deviation is permitted. The keywords, \u201cshould\u201d and \u201cshould not\u201d indicate that, among several possibilities, one is recommended as particularly suitable, without mentioning or excluding others; or that a certain course of action is preferred but not necessarily required; or that (in the negative form) a certain possibility or course of action is deprecated but not prohibited. The keywords \u201cmay\u201d and \u201cneed not\u201d indicate courses of action permissible within the limits of the document. The keyword \u201creserved\u201d indicates a provision that is not defined at this time, shall not be used, and may be defined in the future. The keyword \u201cforbidden\u201d indicates \u201creserved\u201d and in addition indicates that the provision will never be defined in the future. A conformant implementation according to this document is one that includes all mandatory provisions (\u201cshall\u201d) and, if implemented, all recommended provisions (\u201cshould\u201d) as described. A conformant implementation need not implement optional provisions (\u201cmay\u201d) and need not implement them as described. Unless otherwise specified, the order of precedence of the types of normative information in this document are as follows: Normative prose is the authoritative definition; Tables are next; followed by formal languages; then figures; and then any other language forms.</p>"},{"location":"leqm/iso_2015/#1-scope","title":"1   Scope","text":"<p>This International Standard specifies the measurement methods and characteristic electroacoustic frequency response of the B-chain of motion-picture dubbing theatres (mixing rooms), screening rooms, and indoor theatres whose room volume exceeds 125 m3 (4,414 ft3). It is intended to assist in standardization of monitoring and reproduction of motion-picture sound in such rooms. The goal is to have constant perceived loudness and frequency response from installation to installation, and from position-to-position within an installation. This International Standard does not cover that part of the motion-picture sound system extending from the transducer to the input source audio selector.</p>"},{"location":"leqm/iso_2015/#2-terms-and-definitions","title":"2   Terms and definitions","text":"<p>For the purposes of this document, the following terms and definitions apply.</p>"},{"location":"leqm/iso_2015/#21-complete-sound-reproduction-system","title":"2.1 complete sound reproduction system","text":"<p>system used in indoor theatres and screening rooms and in motion-picture sound post-production facilities such as dubbing theatres, mix rooms and ADR control rooms Note 1 to entry: The complete system in an indoor theatre or review room is generally considered to consist of an A-chain and a B-chain. Note 2 to entry: Represented diagrammatically in Figures 1 and 2.</p>"},{"location":"leqm/iso_2015/#22-pre-emphasized-audio-track","title":"2.2 pre-emphasized audio track","text":"<p>audio record, either magnetic or photographic, containing high-frequency boost equalization, which is intended for playback over de-emphasized theatre playback systems Note 1 to entry: Now very rarely used, but found on all films prior to the mid-1970s. Part of the playback de-emphasis was generated by use of Curve-N in previous versions of this standard (see 2.10 and A.10).</p>"},{"location":"leqm/iso_2015/#23-wide-range-audio-track","title":"2.3 wide-range audio track","text":"<p>audio record, either magnetic, analogue (photographic) or digital, which is intended for playback over theatre playback systems aligned to this International Standard Note 1 to entry: This characteristic was previously referred as Curve-X (see 2.9). Such tracks are recorded without fixed pre- and de-emphasis. Analogue wide-range soundtracks invariably use noise reduction companding technology.</p>"},{"location":"leqm/iso_2015/#24-a-chain-transducer-system","title":"2.4 A-chain (transducer system)","text":"<p>part of a motion-picture audio system extending as far as the input source selector, as shown in Figures 1 and 2</p>"},{"location":"leqm/iso_2015/#25-b-chain-final-chain","title":"2.5 B-chain (final chain)","text":"<p>part of a motion-picture sound reproduction system, as shown in Figures 1 and 2, commencing at the input source audio selector and terminating in the listening area</p> <p>Figure 1 \u2014 Complete theatrical audio reproducing chain \u2014 Traditional Film Formats</p> <p></p> <p>Figure 2 \u2014 Complete theatrical audio reproducing chain \u2014 Digital Cinema</p> <p></p>"},{"location":"leqm/iso_2015/#26-pink-noise","title":"2.6 pink noise","text":"<p>stochastic signal having a continuous spectrum with equal energy per equal logarithmic interval of frequency, and with a Gaussian probability distribution of instantaneous amplitude (see 3.4)</p>"},{"location":"leqm/iso_2015/#27-wide-band-pink-noise","title":"2.7 wide-band pink noise","text":"<p>pink noise having a bandwidth exceeding the normal acoustic frequency range Note 1 to entry: A suitable test signal should have a frequency response flat to within \u00b10,5 dB when measured in 1/3-octave bands with centre frequencies from 25 Hz to 20 kHz with an integrating averaging technique.</p>"},{"location":"leqm/iso_2015/#28-electroacoustic-response","title":"2.8 electroacoustic response","text":"<p> spatially and temporally averaged sound pressure level measured in 1/3-octave bands expressed in decibels with respect to reference level (see A.9) when wide-band pink noise is applied to the input source selector (see Figures 1 and 2) Note 1 to entry: The electroacoustic response is computed as a spatial and temporal average over the listening area using one of the methods given in A.4."},{"location":"leqm/iso_2015/#29-curve-x","title":"2.9 Curve-X","text":"<p>X-Curve B-chain characteristic referred to as Curve-X for wide-range sound tracks, also known as X-Curve Note 1 to entry: This characteristic typically required some high-frequency equalization boost when older loudspeakers were in use, but is now easily achievable with contemporary loudspeakers. All contemporary practice is targeted to the X-Curve.</p>"},{"location":"leqm/iso_2015/#210-curve-n","title":"2.10 Curve-N","text":"<p>B-chain characteristic referred to as Curve-N for use with loudspeakers with much poorer high-frequency response than those typically now in use (see A.10)</p>"},{"location":"leqm/iso_2016/","title":"ISO 21727:2016","text":""},{"location":"leqm/iso_2016/#title","title":"Title","text":"<p>Cinematography \u2014 Method of measurement of perceived loudness of short duration motion-picture audio material</p>"},{"location":"leqm/iso_2016/#abstract","title":"Abstract","text":"<p>ISO 21727:2016 specifies a method of measurement of short duration motion-picture sound that allows assessment of the subjective loudness and annoyance of the sound recording when replayed at the recommended replay level in rooms aligned with the characteristics of ISO 2969. The specified method of measurement assesses the entire duration of the sound recording, typically commercials and trailers that do not exceed 3 minutes, with suitable channel summation, frequency weighting and time integration. It does not specify a maximum recommended level for such material and is solely aimed at describing a measurement method.</p> <p>NOTE: Typical recording and replay levels are discussed in Annex A.</p>"},{"location":"leqm/iso_2016/#url","title":"URL","text":"<ul> <li>iso.org/standard/69744.html</li> </ul>"},{"location":"leqm/iso_2016/#extract","title":"Extract","text":""},{"location":"leqm/iso_2016/#foreword","title":"Foreword","text":"<p>ISO (the International Organization for Standardization) is a worldwide federation of national standards bodies (ISO member bodies). The work of preparing International Standards is normally carried out through ISO technical committees. Each member body interested in a subject for which a technical committee has been established has the right to be represented on that committee. International organizations, governmental and non-governmental, in liaison with ISO, also take part in the work. ISO collaborates closely with the International Electrotechnical Commission (IEC) on all matters of electrotechnical standardization. The procedures used to develop this document and those intended for its further maintenance are described in the ISO/IEC Directives, Part 1.  In particular the different approval criteria needed for the different types of ISO documents should be noted. This document was drafted in accordance with the editorial rules of the ISO/IEC Directives, Part 2 (see www.iso.org/directives). Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. ISO shall not be held responsible for identifying any or all such patent rights. Details of any patent rights identified during the development of the document will be in the Introduction and/or on the ISO list of patent declarations received (see www.iso.org/patents). Any trade name used in this document is information given for the convenience of users and does not constitute an endorsement. For an explanation on the meaning of ISO specific terms and expressions related to conformity assessment, as well as information about ISO's adherence to the WTO principles in the Technical Barriers to Trade (TBT) see the following URL: Foreword - Supplementary information The committee responsible for this document is ISO/TC 36, Cinematography. This second edition cancels and replaces the first edition (ISO 21727:2004), of which it constitutes a minor revision.</p>"},{"location":"leqm/iso_2016/#introduction","title":"Introduction","text":"<p>This International Standard is intended to be used in conjunction with the International Standards that cover the reproduction of motion-picture sound, A-chain and B-chain, including ISO 2969 and ISO 22234. A recommended replay level architecture exists for most current cinema sound formats. This matches a specific recorded modulation level with a specific sound-pressure level at the main seating position in a room designed in accordance with ISO 2969 and ISO 22234. The noise and over-modulation points of each sound format are positioned to allow for a wide range of signal components to be recorded and faithfully reproduced at a valid absolute level as part of a motion-picture soundtrack. Perhaps due to their competitive nature, many motion-picture commercials and trailers make sustained use of the highest recording level possible for the format. Consequently, many exhibitors now find the need to reduce the replay level to a point much lower than the recommendation. This has caused uncertainty as to the validity of the recommended replay level, which in turn creates problems in matching dubbing theatre sound to that expected from the average cinema. This International Standard is intended to assist in assessing the subjective loudness of motion-picture sound so that a better match between the sound levels of commercials, trailers and main features is maintained, and so that confidence in the validity of the recommended replay level is re-established.</p>"},{"location":"leqm/iso_2016/#1-scope","title":"1. Scope","text":"<p>This International Standard specifies a method of measurement of short duration motion-picture sound that allows assessment of the subjective loudness and annoyance of the sound recording when replayed at the recommended replay level in rooms aligned with the characteristics of ISO 2969. The specified method of measurement assesses the entire duration of the sound recording, typically commercials and trailers that do not exceed 3 min in length, with suitable channel summation, frequency weighting and time integration. It does not specify a maximum recommended level for such material and is solely aimed at describing a measurement method. NOTE Typical recording and replay levels are discussed in Annex A.</p>"},{"location":"leqm/iso_2016/#2-normative-references","title":"2. Normative references","text":"<p>The following documents, in whole or in part, are normatively referenced in this document and are indispensable for its application. For the dated reference, only the edition cited applies. For the undated reference, the latest edition of the referenced document (including any amendments) applies. ISO 22234, Cinematography \u2014 Relative and absolute sound pressure levels for motion-picture multi-channel sound systems \u2014 Measurement methods and levels applicable to analog photographic film audio, digital photographic film audio and D-cinema audio</p>"},{"location":"leqm/iso_2016/#3-terms-and-definitions","title":"3. Terms and definitions","text":"<p>For the purposes of this document, the following terms and definitions apply.</p>"},{"location":"leqm/iso_2016/#31-reference-level","title":"3.1 reference level","text":"<p>modulation level equivalent to 50 % modulation of optical variable-area soundtrack, \u221220 dB (level relative to digital full-scale) in the digital domain and 185 nW/m in the magnetic domain, measured using an average responding meter and a steady-state tone Note 1 to entry: 100 % modulation of a single track of a two-track variable-area soundtrack has a dimensional modulation of 838,2 \u00b5m (0,033 in).</p>"},{"location":"leqm/iso_2016/#32-reference-pink-noise","title":"3.2 reference pink noise","text":"<p>pink noise, band-limited to 20 Hz to 20 kHz, set at the reference level, using an average responding meter</p>"},{"location":"leqm/iso_2016/#33-pink-noise","title":"3.3 pink noise","text":"<p>stochastic signal having a continuous spectrum from at least 20 Hz to 20 kHz with equal energy \u00b10,5 dB per one-third octave of frequency and a Gaussian probability distribution of instantaneous amplitude</p>"},{"location":"leqm/iso_2016/#34-recommended-replay-level","title":"3.4 recommended replay level","text":"<p>sound-pressure level (C-weighted with slow response) that the sound system should produce in the main seating area of the room with reference pink noise Note 1 to entry: For example, a sound system set to a recommended replay level of 85 dB (C-frequency-weighted sound-pressure level relative to 20 \u00b5Pa) will produce a sound-pressure level of 85 dB (C-weighted) in the main seating area of the room with reference pink noise.</p>"},{"location":"leqm/iso_2016/#35-m-type-frequency-weighting","title":"3.5 M-type frequency weighting","text":"<p>filter function as defined in Table 1</p> <ul> <li>Note 1 to entry: This filter function is based on a filter recommended by the International Telecommunications Union for the assessment of background noise in audio programmes.</li> <li>Note 2 to entry: This filter function has also been found to be useful for the purpose of assessing the human response to the loudness and annoyance of motion-picture soundtracks in calibrated rooms.</li> </ul> <p></p>"},{"location":"leqm/iso_2016/#4-method-of-measurement","title":"4 Method of measurement","text":""},{"location":"leqm/iso_2016/#41-general","title":"4.1 General","text":"<p>The measurement shall be carried out in the electrical domain in accordance with 4.2, which follows the steps shown in Figure 1. NOTE An acoustical method of measurement would be impractical and provide results of low accuracy and low repeatability. Figure 1 \u2014 Method of measurement</p>"},{"location":"leqm/iso_2016/#42-procedure","title":"4.2 Procedure","text":""},{"location":"leqm/iso_2016/#421-input-calibration-and-m-type-frequency-weighting","title":"4.2.1 Input calibration and M-type frequency weighting","text":"<p>Scale each input channel independently to normalize the reference level of the recording (recorded test tone) to a level that represents that channel\u2019s recommended replay level as provided by ISO 22234, and then implement M-type frequency weighting. NOTE 1 Absolute sound-pressure levels can be electrically represented by reference to a known level which represents 20 \u00b5Pa. NOTE 2 A typical six-channel calibration is shown in Table 2. Table 2 \u2014 Typical six-channel calibration</p> Channel Sound-pressure level Left 85 dB Centre 85 dB Right 85 dB Left surround 82 dB Right surround 82 dB Subwoofer (LFE) 95 dB <p>Sound-pressure level:  C-frequency-weighted sound-pressure level relative to 20 \u00b5Pa.</p>"},{"location":"leqm/iso_2016/#422-scalar-channel-summation","title":"4.2.2 Scalar channel summation","text":"<p>Rectify and square the scaled M-type weighted signals of each audio channel, and then sum the signals together. NOTE This procedure ensures that the channel summation is scalar (ignoring phase) rather than vector. It therefore simulates multi-sourced, broad-band, reverberant-field, acoustical summation.</p>"}]}